<!DOCTYPE html>
<!-- saved from url=(0054)https://github.com/thehackerwithin/PyTrieste/wiki/F2Py -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-dsqgdBtnWun6oxDg9q1xezEyITXQ8QsMdFm+JDoDk6Tzx9AEE1XcUEhWff/M2Jv85ucTVJCjp/2fGbh6Omtrgg==" rel="stylesheet" href="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/frameworks-41c2037bf12f1e46d8f08b88a04a8d8f.css">
  <link crossorigin="anonymous" media="all" integrity="sha512-MRlTIqIyb8caK5+o8llXVntXovciHyAM4qE3kWU2S7SIjAPDxYp4mE0jQp4kP5UYegy+lG9y1I6VlsdzEjb5Qw==" rel="stylesheet" href="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/site-294181adec18ed639e160b96b45d17ac.css">
    <link crossorigin="anonymous" media="all" integrity="sha512-N0NZLkSd21eXjfu+zpDlQOCbmS3w9u5AreUtPHhwW+kF1yD/8r6SDo5aIoCjRrXfkTZ2QoX55ImI/70nZ0+UVg==" rel="stylesheet" href="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/github-e3bff23d54e12a76d66b61023f1c8796.css">
    
    
    
    

  <meta name="viewport" content="width=device-width">
  
  <title>F2Py · thehackerwithin/PyTrieste Wiki · GitHub</title>
    <meta name="description" content="Contribute to thehackerwithin/PyTrieste development by creating an account on GitHub.">
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    <meta name="twitter:image:src" content="https://avatars0.githubusercontent.com/u/1369722?s=400&amp;v=4"><meta name="twitter:site" content="@github"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="thehackerwithin/PyTrieste"><meta name="twitter:description" content="Contribute to thehackerwithin/PyTrieste development by creating an account on GitHub.">
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/1369722?s=400&amp;v=4"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="thehackerwithin/PyTrieste"><meta property="og:url" content="https://github.com/thehackerwithin/PyTrieste"><meta property="og:description" content="Contribute to thehackerwithin/PyTrieste development by creating an account on GitHub.">

  <link rel="assets" href="https://github.githubassets.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="9194:0DC3:1AB76D:2CC6A9:5CFAD975" data-pjax-transient="">


  

  <meta name="selected-link" value="repo_wiki" data-pjax-transient="">

      <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="9194:0DC3:1AB76D:2CC6A9:5CFAD975"><meta name="octolytics-dimension-region_edge" content="iad"><meta name="octolytics-dimension-region_render" content="iad">
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/wiki/show" data-pjax-transient="true">





<meta class="js-ga-set" name="dimension1" content="Logged Out">



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="NDY5MDQzNTMwNGVmZDI2ZDgzMmIzOTJlYTA3MDUxNTc5MjMwYTNjODVmNmM0YjBhYTJiMjQ0MmQ1NGFjN2M1ZXx7InJlbW90ZV9hZGRyZXNzIjoiMTI4LjEzOC42NS4xNjUiLCJyZXF1ZXN0X2lkIjoiOTE5NDowREMzOjFBQjc2RDoyQ0M2QTk6NUNGQUQ5NzUiLCJ0aW1lc3RhbXAiOjE1NTk5NDM1NDIsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="UNIVERSE_BANNER,MARKETPLACE_INVOICED_BILLING,MARKETPLACE_SOCIAL_PROOF_CUSTOMERS,MARKETPLACE_TRENDING_SOCIAL_PROOF,MARKETPLACE_RECOMMENDATIONS">

  <meta name="html-safe-nonce" content="267d1337f73bf090bf9a8128b7620c84f013f5e1">

  <meta http-equiv="x-pjax-version" content="a4ec07076dcc2aec3fb6dbf0a15c362c">
  

      <link href="https://github.com/thehackerwithin/PyTrieste/commits/master.atom" rel="alternate" title="Recent Commits to PyTrieste:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/thehackerwithin/PyTrieste git https://github.com/thehackerwithin/PyTrieste.git">

  <meta name="octolytics-dimension-user_id" content="1369722"><meta name="octolytics-dimension-user_login" content="thehackerwithin"><meta name="octolytics-dimension-repository_id" content="3301646"><meta name="octolytics-dimension-repository_nwo" content="thehackerwithin/PyTrieste"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="3301646"><meta name="octolytics-dimension-repository_network_root_nwo" content="thehackerwithin/PyTrieste"><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false">




  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://github.githubassets.com/favicon.ico">

<meta name="theme-color" content="#1e2327">





  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

  </head>

  <body class="logged-out env-production page-responsive">
    

  <div class="position-relative js-header-wrapper ">
    <a href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#start-of-content" tabindex="1" class="px-2 py-4 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    


        <header class="Header-old header-logged-out js-details-container Details position-relative f4 py-2" role="banner">
  <div class="container-lg d-lg-flex flex-items-center p-responsive">
    <div class="d-flex flex-justify-between flex-items-center">
        <a class="mr-4" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
          <svg height="32" class="octicon octicon-mark-github text-white" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
        </a>

          <div class="d-lg-none css-truncate css-truncate-target width-fit p-2">
            
              <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
    <a class="Header-link" href="https://github.com/thehackerwithin">thehackerwithin</a>
    /
    <a class="Header-link" href="https://github.com/thehackerwithin/PyTrieste">PyTrieste</a>


          </div>

        <div class="d-flex flex-items-center">
            <a href="https://github.com/join?source=header-repo" class="d-inline-block d-lg-none f5 text-white no-underline border border-gray-dark rounded-2 px-2 py-1 mr-3 mr-sm-5" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="020836ef7ff6d48f5e6d2b8f1698d73d1f75be5a9df2899ca39614a6ed87b63e" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">
              Sign&nbsp;up
            </a>

          <button class="btn-link d-lg-none mt-1 js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
            <svg height="24" class="octicon octicon-three-bars text-white" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"></path></svg>
          </button>
        </div>
    </div>

    <div class="HeaderMenu HeaderMenu--logged-out position-fixed top-0 right-0 bottom-0 height-fit position-lg-relative d-lg-flex flex-justify-between flex-items-center flex-auto">
      <div class="d-flex d-lg-none flex-justify-end border-bottom bg-gray-light p-3">
        <button class="btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
          <svg height="24" class="octicon octicon-x text-gray" viewBox="0 0 12 16" version="1.1" width="18" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
        </button>
      </div>

        <nav class="mt-0 px-3 px-lg-0 mb-5 mb-lg-0" aria-label="Global">
          <ul class="d-lg-flex list-style-none">
              <li class="d-block d-lg-flex flex-lg-nowrap flex-lg-items-center border-bottom border-lg-bottom-0 mr-0 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
                    Why GitHub?
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>
                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
                    <a href="https://github.com/features" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Features">Features <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a>
                    <ul class="list-style-none f5 pb-3">
                      <li class="edge-item-fix"><a href="https://github.com/features/code-review/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code review">Code review</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features/project-management/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Project management">Project management</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features/integrations" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Integrations">Integrations</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features/actions" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Actions">Actions</a>
                          </li><li class="edge-item-fix"><a href="https://github.com/features/package-registry" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Package Registry">Package registry</a>
                      </li><li class="edge-item-fix"><a href="https://github.com/features#team-management" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Team management">Team management</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#social-coding" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Social coding">Social coding</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#documentation" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Documentation">Documentation</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/features#code-hosting" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Code hosting">Code hosting</a></li>
                    </ul>

                    <ul class="list-style-none mb-0 border-lg-top pt-lg-3">
                      <li class="edge-item-fix"><a href="https://github.com/customer-stories" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Customer stories">Customer stories <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                      <li class="edge-item-fix"><a href="https://github.com/security" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Security">Security <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
              <li class="border-bottom border-lg-bottom-0 mr-0 mr-lg-3">
                <a href="https://github.com/enterprise" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, go to Enterprise">Enterprise</a>
              </li>

              <li class="d-block d-lg-flex flex-lg-nowrap flex-lg-items-center border-bottom border-lg-bottom-0 mr-0 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
                    Explore
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative">
                      <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/explore" class="py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Explore">Explore GitHub <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2 border-lg-top pt-lg-3">Learn &amp; contribute</h4>
                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/topics" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Topics">Topics</a></li>
                        <li class="edge-item-fix"><a href="https://github.com/collections" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Collections">Collections</a></li>
                      <li class="edge-item-fix"><a href="https://github.com/trending" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Trending">Trending</a></li>
                      <li class="edge-item-fix"><a href="https://lab.github.com/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Learning lab">Learning Lab</a></li>
                      <li class="edge-item-fix"><a href="https://opensource.guide/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Open source guides">Open source guides</a></li>
                    </ul>

                    <h4 class="text-gray-light text-normal text-mono f5 mb-2 border-lg-top pt-lg-3">Connect with others</h4>
                    <ul class="list-style-none mb-0">
                      <li class="edge-item-fix"><a href="https://github.com/events" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Events">Events</a></li>
                      <li class="edge-item-fix"><a href="https://github.community/" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Community forum">Community forum</a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com/" class="py-2 pb-0 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to GitHub Education">GitHub Education</a></li>
                    </ul>
                  </div>
                </details>
              </li>

              <li class="border-bottom border-lg-bottom-0 mr-0 mr-lg-3">
                <a href="https://github.com/marketplace" class="HeaderMenu-link no-underline py-3 d-block d-lg-inline-block" data-ga-click="(Logged out) Header, go to Marketplace">Marketplace</a>
              </li>

              <li class="d-block d-lg-flex flex-lg-nowrap flex-lg-items-center border-bottom border-lg-bottom-0 mr-0 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center ">
                <details class="HeaderMenu-details details-overlay details-reset width-full">
                  <summary class="HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block">
                    Pricing
                    <svg x="0px" y="0px" viewBox="0 0 14 8" xml:space="preserve" fill="none" class="icon-chevon-down-mktg position-absolute position-lg-relative">
                       <path d="M1,1l6.2,6L13,1"></path>
                    </svg>
                  </summary>

                  <div class="dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-4 mt-0 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4">
                    <a href="https://github.com/pricing" class="pb-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Pricing">Plans <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a>

                    <ul class="list-style-none mb-3">
                      <li class="edge-item-fix"><a href="https://github.com/pricing#feature-comparison" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Compare plans">Compare plans</a></li>
                      <li class="edge-item-fix"><a href="https://enterprise.github.com/contact" class="py-2 lh-condensed-ultra d-block link-gray no-underline f5" data-ga-click="(Logged out) Header, go to Contact Sales">Contact Sales</a></li>
                    </ul>

                    <ul class="list-style-none mb-0 border-lg-top pt-lg-3">
                      <li class="edge-item-fix"><a href="https://github.com/nonprofit" class="py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Nonprofits">Nonprofit <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                      <li class="edge-item-fix"><a href="https://education.github.com/" class="py-2 pb-0 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover" data-ga-click="(Logged out) Header, go to Education">Education <span class="Bump-link-symbol float-right text-normal text-gray-light">→</span></a></li>
                    </ul>
                  </div>
                </details>
              </li>
          </ul>
        </nav>

      <div class="d-lg-flex flex-items-center px-3 px-lg-0 text-center text-lg-left">
          <div class="d-lg-flex mb-3 mb-lg-0">
            <div class="header-search flex-self-stretch flex-lg-self-auto mr-0 mr-lg-3 mb-3 mb-lg-0 scoped-search site-scoped-search js-site-search position-relative js-jump-to" role="combobox" aria-owns="jump-to-results" aria-label="Search or jump to" aria-haspopup="listbox" aria-expanded="false">
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="3301646" data-scoped-search-url="/thehackerwithin/PyTrieste/search" data-unscoped-search-url="/search" action="https://github.com/thehackerwithin/PyTrieste/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓">
      <label class="form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text" class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" value="" placeholder="Search" data-unscoped-placeholder="Search GitHub" data-scoped-placeholder="Search" autocapitalize="off" aria-autocomplete="list" aria-controls="jump-to-results" aria-label="Search" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=UgDSufS+j2zUM1b0WD2UoTaLhBT5eD7sKeUSuEQZ/IzQs2hmf6K/YHkFukbcPV1OEVnj8yZUTUbsAj92l7g2gA==" spellcheck="false" autocomplete="off">
          <input type="hidden" class="js-site-search-type-field" name="type">
            <img src="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="text-gray">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


</ul>

            </div>
      </label>
</form>  </div>
</div>

          </div>

        <a href="https://github.com/login?return_to=%2Fthehackerwithin%2FPyTrieste%2Fwiki%2FF2Py" class="HeaderMenu-link no-underline mr-3" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="bb9e55951dcbaf69c129270321d63af3239a437ddddeeb2368995825e6a6e53b" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">
          Sign&nbsp;in
        </a>
          <a href="https://github.com/join?source=header-repo" class="HeaderMenu-link d-inline-block no-underline border border-gray-dark rounded-1 px-2 py-1" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="bb9e55951dcbaf69c129270321d63af3239a437ddddeeb2368995825e6a6e53b" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">
            Sign&nbsp;up
          </a>
      </div>
    </div>
  </div>
</header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>


    <div id="js-flash-container">

</div>



  <div class="application-main " data-commit-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main>
      
  



  




  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav pt-0 pt-lg-4 ">
    <div class="repohead-details-container clearfix container-lg p-responsive d-none d-lg-block">

      <ul class="pagehead-actions">




  <li>
    
  <a class="tooltipped tooltipped-s btn btn-sm btn-with-count" aria-label="You must be signed in to watch a repository" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="9d6a206aa954edfa9f06887959116be7cf5b83720765a3496c8cab04dc8856cf" href="https://github.com/login?return_to=%2Fthehackerwithin%2FPyTrieste">
    <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
    Watch
</a>    <a class="social-count" href="https://github.com/thehackerwithin/PyTrieste/watchers" aria-label="10 users are watching this repository">
      10
    </a>

  </li>

  <li>
        <a class="btn btn-sm btn-with-count tooltipped tooltipped-s" aria-label="You must be signed in to star a repository" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:3301646,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="80a74594fbd7ecf35da0af725c9fa151dfde2a4d97c9be010579d3489c6623a2" href="https://github.com/login?return_to=%2Fthehackerwithin%2FPyTrieste">
      <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"></path></svg>
      Star
</a>
    <a class="social-count js-social-count" href="https://github.com/thehackerwithin/PyTrieste/stargazers" aria-label="85 users starred this repository">
      85
    </a>

  </li>

  <li>
      <a class="btn btn-sm btn-with-count tooltipped tooltipped-s" aria-label="You must be signed in to fork a repository" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:3301646,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="d1f47aee9d4ad021569c235398635aef099b3b3310588a97770045e84ba82723" href="https://github.com/login?return_to=%2Fthehackerwithin%2FPyTrieste">
        <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
        Fork
</a>
    <a href="https://github.com/thehackerwithin/PyTrieste/network/members" class="social-count" aria-label="48 users forked this repository">
      48
    </a>
  </li>
</ul>

      <h1 class="public ">
    <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/thehackerwithin/hovercard" href="https://github.com/thehackerwithin">thehackerwithin</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="https://github.com/thehackerwithin/PyTrieste">PyTrieste</a></strong>
  

</h1>

    </div>
    
<nav class="hx_reponav reponav js-repo-nav js-sidenav-container-pjax container-lg p-responsive d-none d-lg-block" itemscope="" itemtype="http://schema.org/BreadcrumbList" aria-label="Repository" data-pjax="#js-repo-pjax-container">

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /thehackerwithin/PyTrieste" href="https://github.com/thehackerwithin/PyTrieste">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /thehackerwithin/PyTrieste/issues" href="https://github.com/thehackerwithin/PyTrieste/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /thehackerwithin/PyTrieste/pulls" href="https://github.com/thehackerwithin/PyTrieste/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>


    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /thehackerwithin/PyTrieste/projects" href="https://github.com/thehackerwithin/PyTrieste/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"></path></svg>
      Projects
      <span class="Counter">0</span>
</a>

    <a class="js-selected-navigation-item selected reponav-item" data-hotkey="g w" aria-current="page" data-selected-links="repo_wiki /thehackerwithin/PyTrieste/wiki" href="https://github.com/thehackerwithin/PyTrieste/wiki">
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
      Wiki
</a>
    <a data-skip-pjax="true" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy /thehackerwithin/PyTrieste/security/advisories" href="https://github.com/thehackerwithin/PyTrieste/security/advisories">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="octicon" height="16px" width="16px">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M1 2l7-2 7 2v6.02C15 12.69 9.69 16 8 16c-1.69 0-7-3.31-7-7.98V2zm1 .75L8 1l6 1.75v5.268C14 12.104 9.45 15 8 15c-1.45 0-6-2.896-6-6.982V2.75z"></path>
    <path d="M3 3.5L8 2v12c-1.207 0-5-2.482-5-5.985V3.5z"></path>
</svg>

      Security
</a>
    <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse people /thehackerwithin/PyTrieste/pulse" href="https://github.com/thehackerwithin/PyTrieste/pulse">
      <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"></path></svg>
      Insights
</a>

</nav>

  <div class="reponav-wrapper reponav-small d-lg-none">
  <nav class="reponav js-reponav text-center no-wrap" itemscope="" itemtype="http://schema.org/BreadcrumbList">

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a class="js-selected-navigation-item reponav-item" itemprop="url" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /thehackerwithin/PyTrieste" href="https://github.com/thehackerwithin/PyTrieste">
        <span itemprop="name">Code</span>
        <meta itemprop="position" content="1">
</a>    </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /thehackerwithin/PyTrieste/issues" href="https://github.com/thehackerwithin/PyTrieste/issues">
          <span itemprop="name">Issues</span>
          <span class="Counter">0</span>
          <meta itemprop="position" content="2">
</a>      </span>

    <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /thehackerwithin/PyTrieste/pulls" href="https://github.com/thehackerwithin/PyTrieste/pulls">
        <span itemprop="name">Pull requests</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="3">
</a>    </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /thehackerwithin/PyTrieste/projects" href="https://github.com/thehackerwithin/PyTrieste/projects">
          <span itemprop="name">Projects</span>
          <span class="Counter">0</span>
          <meta itemprop="position" content="4">
</a>      </span>

      <span itemscope="" itemtype="http://schema.org/ListItem" itemprop="itemListElement">
        <a itemprop="url" class="js-selected-navigation-item selected reponav-item" aria-current="page" data-selected-links="repo_wiki /thehackerwithin/PyTrieste/wiki" href="https://github.com/thehackerwithin/PyTrieste/wiki">
          <span itemprop="name">Wiki</span>
          <meta itemprop="position" content="5">
</a>      </span>

      <a itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="security alerts policy /thehackerwithin/PyTrieste/security/advisories" href="https://github.com/thehackerwithin/PyTrieste/security/advisories">
        <span itemprop="name">Security</span>
        <meta itemprop="position" content="6">
</a>
      <a class="js-selected-navigation-item reponav-item" data-selected-links="pulse /thehackerwithin/PyTrieste/pulse" href="https://github.com/thehackerwithin/PyTrieste/pulse">
        Pulse
</a>

  </nav>
</div>


  </div>
<div class="container-lg new-discussion-timeline experiment-repo-nav  p-responsive">
  <div class="repository-content ">

    
    
  <div id="wiki-wrapper" class="page">
          <div class="signup-prompt signup-prompt-unpacking mx-auto mb-6 p-4 border rounded-2" style="background-image: url(&#39;https://github.githubassets.com/images/modules/site/heroes/octocat-unpacking-hubot.svg&#39;)">
      <div class="position-relative">
        <!-- '"` --><!-- </textarea></xmp> --><form action="https://github.com/prompt_dismissals/wikis" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="E5/xaFfPPXOyBPPVoBDiKo8dRg3JA1E/4eKTk+HwHl5dQ+sazW12Jrm8pQFeofRkUAOQSohA3feXenCWbn1LTQ==">
          <button type="submit" class="position-absolute top-0 right-0 py-1 px-2 border bg-white btn-link link-gray no-underline f6" data-ga-click="(Logged out) Sign up prompt, click, text:Dismiss" data-ga-load="Wiki, view, type:redesigned sign up prompt">
            Dismiss
          </button>
</form>        <h3 class="col-6 col-md-12 mb-2 lh-condensed">Document your code</h3>
        <p class="col-md-7">
          Every project on GitHub comes with a version-controlled wiki to give your
          documentation the high level of care it deserves. It’s easy to create
          well-maintained, Markdown or rich text documentation alongside your code.
        </p>
        <a class="btn btn-primary mr-2" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;releases sign up prompt&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;client_id&quot;:null,&quot;originating_request_id&quot;:&quot;9194:0DC3:1AB76D:2CC6A9:5CFAD975&quot;,&quot;originating_url&quot;:&quot;https://github.com/thehackerwithin/PyTrieste/wiki/F2Py&quot;,&quot;referrer&quot;:&quot;https://stackoverflow.com/questions/21205596/passing-arrays-from-python-to-fortran-and-back&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="e626cebe8a8609b17a9b9e4c0d12d9804de399c1379b3bea62ef7c30870e4f9f" data-ga-click="(Logged out) Sign up prompt, click, text:Sign up for free" data-ga-load="Wiki, view, type:redesigned sign up prompt" href="https://github.com/join?source=prompt-wiki-show">Sign up for free</a>
        <a href="https://github.com/pricing" class="d-block d-sm-inline-block mt-2 mt-sm-0" data-ga-click="(Logged out) Sign up prompt, click, text:See pricing for teams and enterprises" data-ga-load="Wiki, view, type:redesigned sign up prompt">
          See pricing for teams and enterprises
        </a>
      </div>
    </div>


    <div class="d-flex flex-column flex-md-row gh-header">
      <h1 class="flex-auto min-width-0 mb-2 mb-md-0 mr-0 mr-md-2 gh-header-title instapaper_title">F2Py</h1>

        <div class="mt-0 mt-lg-1 flex-shrink-0 gh-header-actions">
          <a href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#wiki-pages-box" class="d-md-none ">Jump to bottom</a>

        </div>
    </div>

    <div class="mt-2 mt-md-1 pb-3 gh-header-meta">
      Katy Huff edited this page <relative-time datetime="2012-02-27T10:18:46Z" title="Feb 27, 2012, 3:18 AM MST">on Feb 27, 2012</relative-time>
      ·
      <a href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py/_history" class="muted-link">
        12 revisions
      </a>
    </div>

  <div id="wiki-content" class="d-flex flex-column flex-md-row">
    <div id="wiki-body" class="mt-4 flex-auto min-width-0 gollum-rest-content instapaper_body">
        <div class="markdown-body">
          <p><a class="internal present" href="https://github.com/thehackerwithin/PyTrieste/wiki/Home">Back to Home</a></p>
<a name="user-content-using-python-and-fortran-with-f2py"></a>
<h2>
<a id="user-content-using-python-and-fortran-with-f2py" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#using-python-and-fortran-with-f2py" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using Python and FORTRAN with F2py</h2>
<p><strong>Presented by Katy Huff</strong></p>
<p><strong>Based on Lecture Material by The Hacker Within</strong></p>
<a name="user-content-motivation-why-use-f2py"></a>
<h3>
<a id="user-content-motivation-why-use-f2py" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#motivation-why-use-f2py" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Motivation: Why use <cite>f2py</cite>?</h3>
<p>Fortran has been around for a while, and it forms the core of much scientific software.  There's much legacy FORTRAN 77 code out there that works well, is widely tested and optimized.  Being FORTRAN 77, no one wants to touch it unless absolutely necessary.</p>
<p>Python has many advantages over Fortran, and the few areas it is lacking (primarily execution speed), Python and Fortran are complementary.  Where Python is streamlined and easy to read, Fortran is klunky and prone to spaghetti code.  Python is dynamic, Fortran types everything, even your spelling mistakes if you're not careful (implicit typing).  Python is young and spry, Fortran is old, pedigreed and barnacled.  Python will nicely tell you exactly where something is going wrong with an exception and backtrace; often the best you can hope for from Fortran is a seg fault or bus error, but data corruptions are common and easy to do.</p>
<p>For all its shortcomings, Fortran code -- especially scientific code with many arrays, etc -- is usually much faster than the Python equivalent.  It would be wonderful to harness the vast libraries of tested, fast and well-used Fortran code with a sleek Python wrapper.</p>
<p>And that's where <cite>f2py</cite> comes in.</p>
<p><cite>f2py</cite> is a Fortran to Python interface generator that allows you to take Fortran code, generate a Python interface and compile it all together into an extension module.  The front-end is Python, the heavy lifting is done by Fortran.  Best of both worlds.</p>
<a name="user-content-first-step-getting-help"></a>
<h3>
<a id="user-content-first-step---getting-help" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#first-step---getting-help" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>First Step :  Getting Help</h3>
<p>Always, we first learn how to get more help. To get some clues about <cite>f2py</cite>,
type f2py in the terminal and you will see hints about usage.</p>
<p>Among the hints about usage, you will find that there is no ordinary help flag,
though there are help flags concerning fortran compilers and linking. This is
good to know, but not super helpful.</p>
<p>Really, help for f2py can mostly just be found on the web :</p>
<ul>
<li>The User's Guide is your friend : <a href="http://cens.ioc.ee/projects/f2py2e/usersguide/" rel="nofollow">http://cens.ioc.ee/projects/f2py2e/usersguide/</a>
</li>
<li>Google is also your friend. You'll find that f2py might throw errors you don't
understand. Google them and you'll find the StackOverflow forums are full of
people with the same error.</li>
</ul>
<a name="user-content-example-0-hello-world"></a>
<h3>
<a id="user-content-example-0-hello-world" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#example-0-hello-world" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example 0: Hello World</h3>
<p>As usual, we want to start with a very simple example provided by the user manual.</p>

<div class="highlight highlight-source-fortran-modern"><pre>C FILE: FIB1.F
      <span class="pl-k">SUBROUTINE</span> <span class="pl-en">FIB</span>(<span class="pl-v">A</span>,<span class="pl-v">N</span>)
C
C     CALCULATE FIRST N FIBONACCI NUMBERS
C
      <span class="pl-k">INTEGER</span> N
      <span class="pl-k">REAL</span><span class="pl-k">*</span><span class="pl-c1">8</span> A(N)
      <span class="pl-k">DO</span> I<span class="pl-k">=</span><span class="pl-c1">1</span>,N
         <span class="pl-k">IF</span> (I<span class="pl-k">.EQ.</span><span class="pl-c1">1</span>) <span class="pl-k">THEN</span>
            A(I) <span class="pl-k">=</span> <span class="pl-c1">0.0D0</span>
         <span class="pl-k">ELSEIF</span> (I<span class="pl-k">.EQ.</span><span class="pl-c1">2</span>) <span class="pl-k">THEN</span>
            A(I) <span class="pl-k">=</span> <span class="pl-c1">1.0D0</span>
         <span class="pl-k">ELSE</span> 
            A(I) <span class="pl-k">=</span> A(I<span class="pl-c1">-1</span>) <span class="pl-k">+</span> A(I<span class="pl-c1">-2</span>)
         <span class="pl-k">ENDIF</span>
      <span class="pl-k">ENDDO</span>
      <span class="pl-k">END</span>
C END FILE FIB1.F</pre></div>

<p>The purpose of this simple file is to fill the array you provide with a fibonacci series.</p>
<p>In order to Pythonize this code, try:</p>
<pre>$ f2py -c -m fib1 fib1.f
</pre>
<p>The configuration of my machine requires that I specify the compiler I want to
use, so the command that I'll call is : <code>`f2py -c -m --fcompiler=gnu95 fib1
fib1.f`</code> Once we have run this command, a shared object file has been created by f2py.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> fib1</pre></div>

<p>Interestingly, if we don't yet know how to use fib1 or the fib module within it , we can view the docstrings created by f2py.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c1">print</span> fib1.<span class="pl-c1">__doc__</span>
<span class="pl-c1">print</span> fib1.fib.<span class="pl-c1">__doc__</span></pre></div>

<p>So, now we know that in order to use the fib code, we need to provide a numpy (Numeric) array to fill with fibonacci numbers.</p>

<div class="highlight highlight-source-python"><pre><span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
a<span class="pl-k">=</span>np.zeros(<span class="pl-c1">10</span>,<span class="pl-s"><span class="pl-pds">'</span>d<span class="pl-pds">'</span></span>) 
fib1.fib(a) 
<span class="pl-c1">print</span> a </pre></div>

<a name="user-content-example-1-passing-scalar-arguments"></a>
<h3>
<a id="user-content-example-1-passing-scalar-arguments" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#example-1-passing-scalar-arguments" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example 1: passing scalar arguments</h3>
<p>Let's try a more interesting example. Suppose we have an implicitly typed FORTRAN 77 function that takes a number of scalar arguments.  This might be a subroutine in a legacy FORTRAN 77 code, for example.</p>

<div class="highlight highlight-source-fortran-modern"><pre>      <span class="pl-k">subroutine</span> <span class="pl-en">scalar_args</span>(<span class="pl-v">int_in</span>, <span class="pl-v">real_in</span>, <span class="pl-v">int_inout</span>, <span class="pl-v">real_inout</span>,
     <span class="pl-v">\</span> <span class="pl-v">int_out</span>, <span class="pl-v">real_out</span>)
C This doesn<span class="pl-s"><span class="pl-pds">'</span>t do anything interesting, just for illustration.</span>
<span class="pl-s">      int_inout = int_in</span>
<span class="pl-s">      real_inout = real_in</span>
<span class="pl-s">      int_out = int_inout</span>
<span class="pl-s">      real_out = real_inout</span>
<span class="pl-s">        </span>
<span class="pl-s">      end subroutine scalar_args</span></pre></div>

<p>It is easy to wrap this subroutine with <cite>f2py</cite>.  Here's how.</p>
<p>First, it is necessary to tell <cite>f2py</cite> the intent of each subroutine argument.  <cite>f2py</cite> provides multiple ways to specify how to generate the interface -- the easiest is to put <cite>f2py</cite>-specific comments right in the FORTRAN code.</p>
<p><a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/scalar_args.f">scalar_args.f</a></p>

<div class="highlight highlight-source-fortran-modern"><pre>      <span class="pl-k">subroutine</span> <span class="pl-en">scalar_args</span>(<span class="pl-v">int_in</span>, <span class="pl-v">real_in</span>, <span class="pl-v">int_inout</span>, <span class="pl-v">real_inout</span>,
     <span class="pl-v">\</span> <span class="pl-v">int_out</span>, <span class="pl-v">real_out</span>)
C Here are the f2py<span class="pl-k">-</span>specific comments.
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">in</span>) <span class="pl-k">::</span> int_in, real_in }}
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">inout</span>) <span class="pl-k">::</span> int_inout, real_inout
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">out</span>) <span class="pl-k">::</span> int_out, real_out

      int_inout <span class="pl-k">=</span> int_in
      real_inout <span class="pl-k">=</span> real_in
      int_out <span class="pl-k">=</span> int_inout
      real_out <span class="pl-k">=</span> real_inout
        
      <span class="pl-k">end</span> <span class="pl-k">subroutine</span><span class="pl-en"> scalar_args</span></pre></div>

<p>You'll notice that the intent specifications are very similar to Fortran 90-style intent statements.  The <cite>f2py</cite> specific comments start with <cite>Cf2py</cite> for FORTRAN 77 code, and <cite>!f2py</cite> for Fortran 9x code.</p>
<p>These intent specifications are necessary for <cite>f2py</cite> to generate the correct interface.  If you're writing Fortran 9x code with intent specifiers already in place, <cite>f2py</cite> will take care of this for you.</p>
<p>To create the extension module, we invoke <cite>f2py</cite> from the command line.  On UNIX/Linux, assuming the above subroutine is in a source file 'scalar_args.f':</p>
<pre>$ f2py -c -m _scalar_args scalar_args.f
</pre>
<p>The '-c' switch tells <cite>f2py</cite> to compile an extension module, and the '-m _scalar_args' specifies the name of the extension module.  The fortran source files follow (in this case just one file).</p>
<p>If everything is setup correctly, the above command will compile the fortran sources into an extension module named '_scalar_args.so' (the extension will be different for Mac OS X or Windows) located in the current directory.</p>
<p>We can test this module from python with a python source file named 'pass_args.py':</p>
<p><a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/pass_args.py">pass_args.py</a></p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> pass_args.py</span>
<span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
<span class="pl-k">import</span> _scalar_args

<span class="pl-c1">print</span> _scalar_args.scalar_args.<span class="pl-c1">__doc__</span>

<span class="pl-c"><span class="pl-c">#</span> these are simple python scalars.</span>
int_in <span class="pl-k">=</span> <span class="pl-c1">1.0</span>
real_in <span class="pl-k">=</span> <span class="pl-c1">10.0</span>

<span class="pl-c"><span class="pl-c">#</span> since these are intent(inout) variables, these must be arrays</span>
int_inout <span class="pl-k">=</span> np.zeros((<span class="pl-c1">1</span>,), <span class="pl-v">dtype</span> <span class="pl-k">=</span> np.int32)
real_inout <span class="pl-k">=</span> np.zeros((<span class="pl-c1">1</span>,), <span class="pl-v">dtype</span> <span class="pl-k">=</span> np.float32)

<span class="pl-c"><span class="pl-c">#</span> all intent(out) variables are returned in a tuple, so they aren't passed as</span>
<span class="pl-c"><span class="pl-c">#</span> arguments.</span>

int_out, real_out <span class="pl-k">=</span> _scalar_args.scalar_args(int_in, real_in, int_inout, real_inout)

<span class="pl-k">for</span> name <span class="pl-k">in</span> (<span class="pl-s"><span class="pl-pds">'</span>int_inout<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>real_inout<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>int_out<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>real_out<span class="pl-pds">'</span></span>):
    <span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-c1">%s</span> == <span class="pl-c1">%s</span><span class="pl-pds">'</span></span> <span class="pl-k">%</span> (name, <span class="pl-c1">locals</span>()[name])</pre></div>

<p>Running the above python script should yield the following output:</p>
<pre>scalar_args - Function signature:
  int_out,real_out = scalar_args(int_in,real_in,int_inout,real_inout)
Required arguments:
  int_in : input int
  real_in : input float
  int_inout : in/output rank-0 array(int,'i')
  real_inout : in/output rank-0 array(float,'f')
Return objects:
  int_out : int
  real_out : float

int=inout == [1]
real_inout == [ 10.]
int_out == 1
real_out == 10.0
</pre>
<p>One nice feature of <cite>f2py</cite> is that it generates informative docstrings for the wrapped fortran subroutines &amp; functions.  In this case, it tells us that the subroutine 'scalar_args' has a function signature that takes 4 inputs and returns a 2-tuple.  The first 2 inputs are an int and a float, respectively.  These are the 'intent(in)' variables.</p>
<p>The remaining inputs are 'in/output rank-0 array' objects -- these are simply numpy arrays with a single element (a rank-0 object).  These are necessary since the fortran objects are intent(inout), and there must be a place to put the output value.</p>
<p>The intent(out) arguments are converted by <cite>f2py</cite> into a return 2-tuple, and are returned by the wrapper function.  This is the case for any Fortran procedure argument that has an intent(out) attribute.</p>
<p>The remainder of the output shows that the subroutine is behaving correctly.</p>
<p>Let's move on to passing arrays between Python and Fortran.</p>
<a name="user-content-example-2-passing-array-arguments"></a>
<h3>
<a id="user-content-example-2-passing-array-arguments" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#example-2-passing-array-arguments" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example 2: passing array arguments</h3>
<p>Here's the source of a FORTRAN 77 subroutine that takes array arguments:</p>

<div class="highlight highlight-source-fortran-modern"><pre>    <span class="pl-k">subroutine</span> <span class="pl-en">array_args</span>(<span class="pl-v">nx</span>, <span class="pl-v">ny</span>, <span class="pl-v">int_arr_in</span>,
   <span class="pl-v">\</span> <span class="pl-v">cmplx_arr_inout</span>, 
   <span class="pl-v">\</span> <span class="pl-v">real_arr_out</span>)

        <span class="pl-k">integer</span> nx, ny
        <span class="pl-k">integer</span> int_arr_in(nx, ny)
        <span class="pl-k">complex</span> cmplx_arr_inout(nx, ny)
        <span class="pl-k">real</span> real_arr_out(nx, ny)

        <span class="pl-k">integer</span> i, j

        <span class="pl-k">do</span> j <span class="pl-k">=</span> <span class="pl-c1">1</span>, ny
            <span class="pl-k">do</span> i <span class="pl-k">=</span> <span class="pl-c1">1</span>, nx
                cmplx_arr_inout(i,j) <span class="pl-k">=</span> <span class="pl-k">cmplx</span>(int_arr_in(i,j),
   \                   int_arr_in(i,j))
                real_arr_out(i,j) <span class="pl-k">=</span> <span class="pl-k">real</span>(int_arr_in(i,j))
            <span class="pl-k">enddo</span>
        <span class="pl-k">enddo</span>

    <span class="pl-k">end</span> <span class="pl-k">subroutine</span><span class="pl-en"> array_args</span></pre></div>

<p>Nothing special.  This contrived example is designed to be similar to FORTRAN 77 legacy code that has array arguments, with the array extents passed in explicitly.  You should note that in the loop, the arrays are iterated through in column-major order (i.e. the first index varies the fastest).  This is known in NumPy &amp; <cite>f2py</cite> parlance as 'fortran order'.  We'll have to keep this in mind when passing multi-dimensional arrays between Python and Fortran, since Python uses row-major ordering, known as 'C order'.  For 2-dimensional arrays, the orderings are the transpose of each other, and to index the same element, the array indices need to be reversed.</p>
<p>Let's add in the <cite>f2py</cite> comments to specify the intent of the arguments:</p>
<p><a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/array_args.f">array_args.f</a></p>

<div class="highlight highlight-source-fortran-modern"><pre>      <span class="pl-k">subroutine</span> <span class="pl-en">array_args</span>(<span class="pl-v">nx</span>, <span class="pl-v">ny</span>, <span class="pl-v">int_arr_in</span>,
     <span class="pl-v">\</span>                      <span class="pl-v">cmplx_arr_inout</span>, 
     <span class="pl-v">\</span>                      <span class="pl-v">real_arr_out</span>)

          <span class="pl-k">integer</span> nx, ny
          <span class="pl-k">integer</span> int_arr_in(nx, ny)
          <span class="pl-k">complex</span> cmplx_arr_inout(nx, ny)
          <span class="pl-k">real</span> real_arr_out(nx, ny)

Cf2py <span class="pl-k">intent</span>(<span class="pl-k">in</span>) nx, ny
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">in</span>) int_arr_in
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">inout</span>) cmplx_arr_inout
Cf2py <span class="pl-k">intent</span>(<span class="pl-k">out</span>) real_arr_out

C ... body of subroutine unchanged ...

      <span class="pl-k">end</span> <span class="pl-k">subroutine</span><span class="pl-en"> array_args</span></pre></div>

<p>As you'd expect.  We invoke <cite>f2py</cite> from the commandline:</p>
<pre>$ f2py -c -m _array_args array_args.f
</pre>
<p>Here's a test script similar to the one we saw before:</p>
<p><a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/pass_array_args.py">pass_array_args.py</a></p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> pass_array_args.py</span>
<span class="pl-k">import</span> numpy <span class="pl-k">as</span> np
<span class="pl-k">import</span> _array_args

<span class="pl-c1">print</span> _array_args.array_args.<span class="pl-c1">__doc__</span>

<span class="pl-c"><span class="pl-c">#</span> int_arr is a 10 X 10 array filled with consecutive integers.</span>
<span class="pl-c"><span class="pl-c">#</span> It is in 'fortran' order.</span>
int_arr <span class="pl-k">=</span> np.asfortranarray(np.arange(<span class="pl-c1">100</span>, <span class="pl-v">dtype</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>i<span class="pl-pds">'</span></span>).reshape(<span class="pl-c1">10</span>,<span class="pl-c1">10</span>))

<span class="pl-c"><span class="pl-c">#</span> cplx_arr is a 10 X 10 complex array filled with zeros.</span>
<span class="pl-c"><span class="pl-c">#</span> It is in 'fortran' order.</span>
cplx_arr <span class="pl-k">=</span> np.asfortranarray(np.zeros((<span class="pl-c1">10</span>,<span class="pl-c1">10</span>), <span class="pl-v">dtype</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>F<span class="pl-pds">'</span></span>))

<span class="pl-c"><span class="pl-c">#</span> We invoke the wrapped fortran subroutine.</span>
real_arr <span class="pl-k">=</span> _array_args.array_args(int_arr, cplx_arr)

<span class="pl-c"><span class="pl-c">#</span> Here are the results.</span>
<span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>int_arr  = <span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span>  int_arr
<span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>real_arr = <span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> real_arr
<span class="pl-c1">print</span> <span class="pl-s"><span class="pl-pds">"</span>cplx_arr = <span class="pl-c1">%s</span><span class="pl-pds">"</span></span> <span class="pl-k">%</span> cplx_arr</pre></div>

<p>One thing to note here: the <cite>int_arr</cite> and <cite>cplx_arr</cite> are declared as fortran arrays, (<cite>np.asfortranarray(...)</cite>) since that's what we want in this case.  Their memory layout is fortran contiguous, and the fortran subroutine won't have any complaints.</p>
<p>The docstring for the wrapped subroutine is again very helpful:</p>
<pre>array_args - Function signature:
  real_arr_out = array_args(int_arr_in,cmplx_arr_inout,[nx,ny])
Required arguments:
  int_arr_in : input rank-2 array('i') with bounds (nx,ny)
  cmplx_arr_inout : in/output rank-2 array('F') with bounds (nx,ny)
Optional arguments:
  nx := shape(int_arr_in,0) input int
  ny := shape(int_arr_in,1) input int
Return objects:
  real_arr_out : rank-2 array('f') with bounds (nx,ny)
</pre>
<p>The docstring tells us the subroutine takes 2 arguments, the first a rank-2 integer array, the second a rank-2 complex array (that's the <cite>array('F')</cite> part).  It is unnecessary to pass in the array extents explicitly, since the extents can be queried <cite>f2py</cite> from the numpy arrays themselves.</p>
<p>It also tells us the shape and type of the return array.</p>
<p>The script output gives us the following:</p>
<pre>int_arr  == [[ 0  1  2  3  4  5  6  7  8  9]
 [10 11 12 13 14 15 16 17 18 19]
 [20 21 22 23 24 25 26 27 28 29]
 [30 31 32 33 34 35 36 37 38 39]
 [40 41 42 43 44 45 46 47 48 49]
 [50 51 52 53 54 55 56 57 58 59]
 [60 61 62 63 64 65 66 67 68 69]
 [70 71 72 73 74 75 76 77 78 79]
 [80 81 82 83 84 85 86 87 88 89]
 [90 91 92 93 94 95 96 97 98 99]]
real_arr == [[  0.   1.   2.   3.   4.   5.   6.   7.   8.   9.]
 [ 10.  11.  12.  13.  14.  15.  16.  17.  18.  19.]
 [ 20.  21.  22.  23.  24.  25.  26.  27.  28.  29.]
 [ 30.  31.  32.  33.  34.  35.  36.  37.  38.  39.]
 [ 40.  41.  42.  43.  44.  45.  46.  47.  48.  49.]
 [ 50.  51.  52.  53.  54.  55.  56.  57.  58.  59.]
 [ 60.  61.  62.  63.  64.  65.  66.  67.  68.  69.]
 [ 70.  71.  72.  73.  74.  75.  76.  77.  78.  79.]
 [ 80.  81.  82.  83.  84.  85.  86.  87.  88.  89.]
 [ 90.  91.  92.  93.  94.  95.  96.  97.  98.  99.]]
cplx_arr == [[  0. +0.j   1. +1.j   2. +2.j   3. +3.j   4. +4.j   5. +5.j   6. +6.j
    7. +7.j   8. +8.j   9. +9.j]
 [ 10.+10.j  11.+11.j  12.+12.j  13.+13.j  14.+14.j  15.+15.j  16.+16.j
   17.+17.j  18.+18.j  19.+19.j]
 [ 20.+20.j  21.+21.j  22.+22.j  23.+23.j  24.+24.j  25.+25.j  26.+26.j
   27.+27.j  28.+28.j  29.+29.j]
 [ 30.+30.j  31.+31.j  32.+32.j  33.+33.j  34.+34.j  35.+35.j  36.+36.j
   37.+37.j  38.+38.j  39.+39.j]
 [ 40.+40.j  41.+41.j  42.+42.j  43.+43.j  44.+44.j  45.+45.j  46.+46.j
   47.+47.j  48.+48.j  49.+49.j]
 [ 50.+50.j  51.+51.j  52.+52.j  53.+53.j  54.+54.j  55.+55.j  56.+56.j
   57.+57.j  58.+58.j  59.+59.j]
 [ 60.+60.j  61.+61.j  62.+62.j  63.+63.j  64.+64.j  65.+65.j  66.+66.j
   67.+67.j  68.+68.j  69.+69.j]
 [ 70.+70.j  71.+71.j  72.+72.j  73.+73.j  74.+74.j  75.+75.j  76.+76.j
   77.+77.j  78.+78.j  79.+79.j]
 [ 80.+80.j  81.+81.j  82.+82.j  83.+83.j  84.+84.j  85.+85.j  86.+86.j
   87.+87.j  88.+88.j  89.+89.j]
 [ 90.+90.j  91.+91.j  92.+92.j  93.+93.j  94.+94.j  95.+95.j  96.+96.j
   97.+97.j  98.+98.j  99.+99.j]]
</pre>
<p>What if we had not declared the <cite>int_arr</cite> as fortran contiguous?  Let's see.</p>
<p>First, let's turn-on array-copying output in the fortran module.  This requires us to recompile the module with a commandline flag.</p>
<pre>$ f2py -DF2PY_REPORT_ON_ARRAY_COPY=1 -c -m _array_args array_args.f
</pre>
<p>Let's change the pass_array_args.py file thusly:</p>

<div class="highlight highlight-source-python"><pre><span class="pl-c"><span class="pl-c">#</span> int_arr is a 10 X 10 array filled with consecutive integers.</span>
<span class="pl-c"><span class="pl-c">#</span> Now it is in 'C' order.</span>
int_arr <span class="pl-k">=</span> np.arange(<span class="pl-c1">100</span>, <span class="pl-v">dtype</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>i<span class="pl-pds">'</span></span>).reshape(<span class="pl-c1">10</span>,<span class="pl-c1">10</span>)</pre></div>

<p>When running the script, you will notice an extra line in the output:</p>

<pre lang=""><code>
copied an array: size = 100, elsize = 4
int_arr  == [[ 0  1  2  3  4  5  6  7  8  9]
...
real_arr == [[  0.   1.   2.   3.   4.   5.   6.   7.   8.   9.]
...
cplx_arr == [[  0. +0.j   1. +1.j   2. +2.j   3. +3.j   4. +4.j   5. +5.j   6. +6.j
...
</code></pre>

<p>The <cite>-DF2PY_REPORT_ON_ARRAY_COPY=1</cite> switch caused <cite>f2py</cite> to report that it copied an array (int_arr) on input, since it received a 'C' order array as an argument.  To avoid this array copy, it is necessary to declare the arrays as fortran contiguous, with the <cite>np.asfortranarray</cite> function.</p>
<a name="user-content-example-3-using-pyf-files-and-python-callbacks"></a>
<h3>
<a id="user-content-example-3-using-pyf-files-and-python-callbacks" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#example-3-using-pyf-files-and-python-callbacks" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example 3: using .pyf files and Python callbacks</h3>
<p>The above 2 examples, while simple, cover a large chunk of calling Fortran from Python with <cite>f2py</cite>.  It is possible to call Python from Fortran, using callbacks.</p>
<p>As a more interesting example, we'll plot the logistic map (<a href="http://en.wikipedia.org/wiki/Logistic_map" rel="nofollow">http://en.wikipedia.org/wiki/Logistic_map</a>), a classic plot exhibiting self-similarity and period-doubling yielding chaos and fractal structure.  The logistic map is a fascinating system that shows how very simple nonlinear systems have nearly unlimited richness.  It can be used as a very simple model of year-to-year populations that are limited by resources or subject to predator-prey dynamics (I'm a plasma physicist, not an ecologist, so don't harangue me over the details!).</p>
<p>Let's say we have a Fortran subroutine that calculates the equilibrium points for an iteratively applied function.  It takes a function as an argument, applies the function iteratively <cite>num_iters</cite> times, and puts the next <cite>n</cite> results of the function in an array.</p>
<p><a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/chaos.f">chaos.f</a></p>

<div class="highlight highlight-source-fortran-modern"><pre>
    <span class="pl-k">subroutine</span> <span class="pl-en">iterate_limit</span>(<span class="pl-v">func</span>, <span class="pl-v">x0</span>, <span class="pl-v">num_iters</span>, <span class="pl-v">results</span>, <span class="pl-v">n</span>)
        <span class="pl-k">external</span> func
        <span class="pl-k">double precision</span> func
        <span class="pl-k">double precision</span> x0
        <span class="pl-k">integer</span> num_iters, n
        <span class="pl-k">double precision</span> results(n)

        <span class="pl-k">integer</span> i

        <span class="pl-k">do</span> i <span class="pl-k">=</span> <span class="pl-c1">1</span>, num_iters
            x0 <span class="pl-k">=</span> func(x0)
        <span class="pl-k">enddo</span>

        <span class="pl-k">do</span> i <span class="pl-k">=</span> <span class="pl-c1">1</span>, n
            results(i) <span class="pl-k">=</span> x0
            x0 <span class="pl-k">=</span> func(x0)
        <span class="pl-k">enddo</span>

    <span class="pl-k">end</span> <span class="pl-k">subroutine</span><span class="pl-en"> iterate_limit</span></pre></div>

<p>The above is saved in a file <cite>chaos.f</cite>.</p>
<p>This time, rather than put <cite>Cf2py</cite> comments in the Fortran source, we'll instead generate an interface file.</p>
<p>Call <cite>f2py</cite> thusly:</p>
<pre>$ f2py -h _chaos.pyf chaos.f
</pre>
<p>This command instructs <cite>f2py</cite> to extract the necessary information from the fortran source and create an interface file <cite>_chaos.pyf</cite> that we'll edit accordingly.</p>
<p>Here's the output:</p>

<div class="highlight highlight-source-fortran-modern"><pre><span class="pl-c"><span class="pl-c">!</span>    -*- f90 -*-</span>
<span class="pl-c"><span class="pl-c">!</span> Note: the context of this file is case sensitive.</span>

python <span class="pl-k">module</span> iterate_limit__user__routines 
    <span class="pl-k">interface</span> <span class="pl-en">iterate_limit_user_interface</span> 
        <span class="pl-k">function</span> <span class="pl-en">func</span>(<span class="pl-v">x0</span>) result (x0) <span class="pl-c"><span class="pl-c">!</span> in :_chaos:chaos.f:iterate_limit:unknown_interface</span>
            <span class="pl-k">double precision</span> <span class="pl-k">::</span> x0
        <span class="pl-k">end</span> <span class="pl-k">function</span><span class="pl-en"> func</span>
    <span class="pl-k">end</span> <span class="pl-k">interface</span> iterate_limit_user_interface
end python <span class="pl-k">module</span> iterate_limit__user__routines
python <span class="pl-k">module</span> _chaos <span class="pl-c"><span class="pl-c">!</span> in </span>
    <span class="pl-k">interface</span>  <span class="pl-c"><span class="pl-c">!</span> in :_chaos</span>
        <span class="pl-k">subroutine</span> <span class="pl-en">iterate_limit</span>(<span class="pl-v">func</span>,<span class="pl-v">x0</span>,<span class="pl-v">num_iters</span>,<span class="pl-v">results</span>,<span class="pl-v">n</span>) <span class="pl-c"><span class="pl-c">!</span> in :_chaos:chaos.f</span>
            <span class="pl-k">use</span> iterate_limit__user__routines
            <span class="pl-k">external</span> func
            <span class="pl-k">double precision</span> <span class="pl-k">::</span> x0
            <span class="pl-k">integer</span> <span class="pl-k">::</span> num_iters
            <span class="pl-k">double precision</span> <span class="pl-k">dimension</span>(n) <span class="pl-k">::</span> results
            <span class="pl-k">integer</span> <span class="pl-k">optional</span>,check(<span class="pl-k">len</span>(results)&gt; <span class="pl-k">=</span> n),depend(results) <span class="pl-k">::</span> n <span class="pl-k">=</span> <span class="pl-k">len</span>(results)
        <span class="pl-k">end</span> <span class="pl-k">subroutine</span><span class="pl-en"> iterate_limit</span>
    <span class="pl-k">end interface</span> 
end python <span class="pl-k">module</span> _chaos

<span class="pl-c"><span class="pl-c">!</span> This file was auto-generated with f2py (version:2).</span>
<span class="pl-c"><span class="pl-c">!</span> See http://cens.ioc.ee/projects/f2py2e/</span></pre></div>

<p>All that remains in this instance is to add in intent specifications to the interface file, and to remove the line specifying the <cite>n</cite> argument.  Here are the changed lines
<a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/chaos.pyf">chaos.pyf</a> :</p>

<div class="highlight highlight-source-python"><pre>          double precision, intent(inout) :: x0
          integer, intent(<span class="pl-k">in</span>) :: num_iters
          integer, intent(<span class="pl-k">in</span>) :: n
          double precision dimension(n), intent(out) :: results</pre></div>

<p>Now, we invoke <cite>f2py</cite> a bit differently, to use the interface file.</p>
<pre>$ f2py -c -m _chaos _chaos.pyf chaos.f
</pre>
<p>Here is the driver script in Python <a href="https://raw.github.com/thehackerwithin/PyTrieste/master/f2py/chaos.py">chaos.py</a>:</p>
<pre>#!python
# chaos.py
import pylab as pl
import numpy as np

# we import the fortran extension module here
import _chaos

# here is the logistic function
# this uses some advanced Python features.
# Logistic is a function that returns another function.
# This is known as a 'closure' and is a very powerful feature.
def logistic(r):
    def _inner(x):
        return r * x * (1.0 - x)
    return _inner

def sine(r):
    from math import sin, pi
    def _inner(x):
        return r * sin(pi * x)
    return _inner

def driver(func, lower, upper, N=400):
    # X will scan over the parameter value.
    X = np.linspace(lower, upper, N)
    nresults, niter = 1000, 1000
    for x in X:
        # We call the fortran function, passing the appropriate Python function.
        results = _chaos.iterate_limit(func(x), 0.5, niter, nresults)
        pl.plot([x]*len(results), results, 'k,')

if __name__ == '__main__':
    pl.figure()
    driver(logistic, 0.0, 4.0)
    pl.xlabel('r')
    pl.ylabel('X limit')
    pl.title('Logistic Map')
    pl.figure()
    driver(sine, 0.0, 1.0)
    pl.xlabel('r')
    pl.ylabel('X limit')
    pl.title('Sine Map')
    pl.show()
</pre>
<p>Running the above script yields
[attachment:logistic-map.png] and [attachment:sine-map.png] .</p>
<p><a class="internal absent" href="https://github.com/thehackerwithin/PyTrieste/wiki/Image%28logistic-map.png%2C-50%25%2C-center%2C-top%29">Image(logistic-map.png, 50%, center, top)</a></p>
<p><a class="internal absent" href="https://github.com/thehackerwithin/PyTrieste/wiki/Image%28sine-map.png%2C-50%25%2C-center%2C-top%29">Image(sine-map.png, 50%, center, top)</a></p>
<p>The significance to note here is that we are able to pass an arbitrary Python function (provided it has the right signature!) to Fortran code, the Fortran code calls the Python function and does something useful with it.  We can easily change which function is passed from Python, thus achieving a greater degree of flexibility using Python with Fortran.</p>
<a name="user-content-conclusions-external-links"></a>
<h3>
<a id="user-content-conclusions--external-links" class="anchor" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py#conclusions--external-links" aria-hidden="true"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusions &amp; External links</h3>
<p>There's much more to <cite>f2py</cite> than presented here -- here are some useful links.</p>
<blockquote>
<ul>
<li>The <cite>f2py</cite> documentation -- <a href="http://cens.ioc.ee/projects/f2py2e/" rel="nofollow">http://cens.ioc.ee/projects/f2py2e/</a>
</li>
<li>
<cite>f2py</cite> is distributed as part of NumPy -- <a href="http://numpy.scipy.org/" rel="nofollow">http://numpy.scipy.org/</a>
</li>
<li>And <cite>f2py</cite> is used to generate much of the wrappers for SciPy -- <a href="http://www.scipy.org/" rel="nofollow">http://www.scipy.org/</a>
</li>
</ul>
</blockquote>
<p><cite>f2py</cite> supports some Fortran 9x specific features, and it is possible to wrap module procedures with <cite>f2py</cite>.  Derived types are not supported, however.  Neither are assumed-shape arrays.  In short, <cite>f2py</cite> excels at wrapping FORTRAN 77 code and supports everything any sane person would want to do with Python and FORTRAN 77.</p>


        </div>

    </div>

    <div id="wiki-rightbar" class="mt-4 ml-md-6 flex-shrink-0 width-full wiki-rightbar">
      <div id="wiki-pages-box" class="mb-4 wiki-pages-box js-wiki-pages-box" role="navigation">
        
<div class="Box Box--condensed box-shadow">
  <div class="Box-header js-wiki-toggle-collapse" style="cursor: pointer">
    <h3 class="Box-title">
      <svg class="octicon octicon-triangle-down js-wiki-sidebar-toggle-display" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 5l6 6 6-6H0z"></path></svg>
      <svg class="octicon octicon-triangle-right js-wiki-sidebar-toggle-display d-none" viewBox="0 0 6 16" version="1.1" width="6" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 14l6-6-6-6v12z"></path></svg>
      Pages <span class="Counter Counter--gray">19</span>
    </h3>
  </div>
  <div class=" js-wiki-sidebar-toggle-display">
    <div class="filter-bar">
      <input type="text" id="wiki-pages-filter" class="form-control input-sm input-block js-filterable-field" placeholder="Find a Page…" aria-label="Find a Page…">
    </div>

    <ul class="m-0 p-0 list-style-none" data-filterable-for="wiki-pages-filter" data-filterable-type="substring">
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki">Home</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Exercise-Session-2">Exercise Session 2</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/ExerciseSession1-Basics">ExerciseSession1 Basics</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">F2Py</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Lesson1-TheUnixShell">Lesson1 TheUnixShell</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Lesson2a-VersionControl">Lesson2a VersionControl</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Lesson2b-VersionControl">Lesson2b VersionControl</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Mex-for-Matlab">Mex for Matlab</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python1-ShellAndVariables">Python1 ShellAndVariables</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python10-Testing-your-program">Python10 Testing your program</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python2-ListsDictsSetsTuples">Python2 ListsDictsSetsTuples</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python3-FlowControl">Python3 FlowControl</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python4-FunctionsAndStandardModules">Python4 FunctionsAndStandardModules</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python5-Strings-and-File-I-O">Python5 Strings and File I O</a></strong>
        </li>
        <li class="Box-row">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python6-Object-oriented-programming">Python6 Object oriented programming</a></strong>
        </li>
        <li class="Box-row wiki-more-pages">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python7-MatPlotLib">Python7 MatPlotLib</a></strong>
        </li>
        <li class="Box-row wiki-more-pages">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python8-SciPy">Python8 SciPy</a></strong>
        </li>
        <li class="Box-row wiki-more-pages">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Python9-NumPy">Python9 NumPy</a></strong>
        </li>
        <li class="Box-row wiki-more-pages">
          <strong><a class="d-block" href="https://github.com/thehackerwithin/PyTrieste/wiki/Swig">Swig</a></strong>
        </li>
        <li class="Box-row wiki-more-pages-link">
          <button type="button" class="f6 mx-auto btn-link muted-link js-wiki-more-pages-link">
            Show 4 more pages…
          </button>
        </li>
    </ul>
  </div>
</div>

      </div>


      <h5 class="mt-0 mb-2">Clone this wiki locally</h5>
      <div class="width-full input-group">
        <input id="wiki-clone-url" type="text" data-autoselect="" class="form-control input-sm text-small text-gray input-monospace" aria-label="Clone URL for this wiki" value="https://github.com/thehackerwithin/PyTrieste.wiki.git" readonly="">
        <span class="input-group-button">
          <clipboard-copy for="wiki-clone-url" aria-label="Copy to clipboard" class="btn btn-sm zeroclipboard-button" tabindex="0" role="button">
            <svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg>
          </clipboard-copy>
        </span>
      </div>
    </div>
  </div>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>


    </div></main>
  </div>
  

  </div>

        
<div class="footer container-lg width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">© 2019 <span title="0.77219s from unicorn-65c455dd56-ksrt5">GitHub</span>, Inc.</li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com/">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog/" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    <script crossorigin="anonymous" integrity="sha512-BlCvumXWTvpASEdhCGiahDUDf7Bwb8QXA2XnnSnqJ9QafxcNcrNYUNYS2wXmd3nEpO//+zlZa9DSV9zmu5MqRg==" type="application/javascript" src="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/compat-bootstrap-90c0ace0.js"></script>
    <script crossorigin="anonymous" integrity="sha512-4D7Df3f6tUQVsNwSbo1CVWjxUiIq07cMaWVIO2M0aYkbh9093/yzfdK0DaIfxEALJKLROLlAsYjwOjBldHEY2Q==" type="application/javascript" src="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/frameworks-877255c7.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-+9q+1bvQexH3m22/KCwX3zeJkYE0FQu081kpS4TQd+tY2az3nt/8d2jfx4ysqJg0za15PSM9qho9/sjPsnUgAA==" type="application/javascript" src="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/github-bootstrap-17d10582.js"></script>
    
      <script crossorigin="anonymous" async="async" integrity="sha512-kOLlQoJ+Ib2UVoam4zkfQD18NVyF1hNPOa3adrPMYae7kmYvX7PCogreKkGYWBGAzkKf8BGlWSNDls25u4OY9Q==" type="application/javascript" src="./F2Py · thehackerwithin_PyTrieste Wiki · GitHub_files/wiki-7ad4fce4.js"></script>

    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner" hidden="">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="https://github.com/thehackerwithin/PyTrieste/wiki/F2Py">Reload</a> to refresh your session.</span>
  </div>
  <template id="site-details-dialog"></template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

  <div aria-live="polite" class="js-global-screen-reader-notice sr-only"></div>

  


</body></html>